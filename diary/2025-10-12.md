- [[../let's-encrypt|let's-encrypt]]
  - 어제에 이어서
  - local dns 를 바라보도록 metallb 를 이용해서 내부트래픽을 처리하다보니 인증서 문제가 발생
  - 동일 url 로 접근하니 발생안할것으로 생각함
  - 문제 해결
    - [[../cloudflare|cloudflare]] 사용 이전의 로컬 인증서들이 최근에 만료됨
    - 외부 접속의 경우 [[../dns|dns]] 가 [[../cloudflare|cloudflare]] 주소를 기리키고 이에 따라 tls termination 진행됨
    - [ ] [[../cloudflare|cloudflare]] <-> origin 간에는 만료된 인증서가 문제되지 않을 수 있음(?)
    - 그러나 내부 접속시에는 [[../cloudflare|cloudflare]] 를 거치지 않게되면서 오래전에 발급된 로컬 인증서가 사용됨
    - http 챌린지 실패, 주소는 로컬이기 때문
    - dns 챌린지로 변경해두고 기존 로컬에 저장된 개별인증서들은 모두 삭제 -> wildcard 인증서 사용됨
    - 로컬에서 접속을 하는 경우 아직 유효한 wildcard 인증서가 사용되서 정상 인증
  - chrome 에서 인증서 확인시에는 [[../cloudflare|cloudflare]] 인증서가 나올 것으로 기대하였으나 google trust 라고 나옴
    - 정상으로 확인
  - [ ] 위 과정은 예상이고 실제로 wildcard 인증서가 [[../traefik|traefik]]에 의해 자동 갱신될지 의문
  - [ ] wildcard 기본 인증서가 지속적으로 갱신되는지 살펴봐야함 [[../todo|todo]]
    - dns challenge 의 경우 가능해야 정상으로 이해
- [[../wiki.deptno.dev|wiki.deptno.dev]]
  - [[../meilisearch|meilisearch]] 문제가 dns 작업과 같이 터져서 디버깅에 어려움 겪음
  - 기존 발급 키가 먹통이 된 문제인데 기존 키를 사용하지 않는 것ㅇ로 처리
